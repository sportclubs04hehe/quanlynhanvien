<div class="modal-header bg-info text-white">
  <h5 class="modal-title">
    <i class="bi bi-person-badge-fill me-2"></i>Chi Tiết Nhân Viên
  </h5>
  <button type="button" class="btn-close btn-close-white" (click)="close()"></button>
</div>

<div class="modal-body">
  @if (errorMessage()) {
    <div class="alert alert-danger" role="alert">
      <i class="bi bi-exclamation-triangle-fill me-2"></i>
      {{ errorMessage() }}
    </div>
  } @else if (user()) {
    <div class="row">
      <!-- Left Column -->
      <div class="col-md-6">
        <h6 class="text-primary mb-3">
          <i class="bi bi-person-circle me-2"></i>Thông Tin Cá Nhân
        </h6>

        <div class="mb-3">
          <label class="form-label text-muted small">Họ và tên</label>
          <p class="fw-bold">{{ user()!.tenDayDu }}</p>
        </div>

        <div class="mb-3">
          <label class="form-label text-muted small">Email</label>
          <p>
            <i class="bi bi-envelope me-2"></i>
            {{ user()!.email }}
          </p>
        </div>

        <div class="mb-3">
          <label class="form-label text-muted small">Số điện thoại</label>
          <p>
            <i class="bi bi-telephone me-2"></i>
            {{ user()!.phoneNumber || 'Chưa cập nhật' }}
          </p>
        </div>

        <div class="mb-3">
          <label class="form-label text-muted small">Telegram Chat ID</label>
          <p>
            <i class="bi bi-telegram me-2"></i>
            {{ user()!.telegramChatId || 'Chưa cập nhật' }}
          </p>
        </div>

        <div class="mb-3">
          <label class="form-label text-muted small">Ngày sinh</label>
          <p>
            <i class="bi bi-calendar-event me-2"></i>
            @if (user()!.ngaySinh) {
              {{ user()!.ngaySinh | date: 'dd/MM/yyyy' }}
            } @else {
              Chưa cập nhật
            }
          </p>
        </div>
      </div>

      <!-- Right Column -->
      <div class="col-md-6">
        <h6 class="text-primary mb-3">
          <i class="bi bi-building me-2"></i>Thông Tin Công Việc
        </h6>

        <div class="mb-3">
          <label class="form-label text-muted small">Phòng ban</label>
          <p>
            @if (user()!.phongBan?.tenPhongBan) {
              <span class="badge bg-info fs-6">{{ user()!.phongBan?.tenPhongBan }}</span>
            } @else {
              <span class="text-muted">Chưa phân bổ</span>
            }
          </p>
        </div>

        <div class="mb-3">
          <label class="form-label text-muted small">Chức vụ</label>
          <p>
            @if (user()!.chucVu?.tenChucVu) {
              <span class="badge bg-secondary fs-6">{{ user()!.chucVu?.tenChucVu }}</span>
            } @else {
              <span class="text-muted">Chưa phân bổ</span>
            }
          </p>
        </div>

        <div class="mb-3">
          <label class="form-label text-muted small">Quản lý trực tiếp</label>
          <p>
            <i class="bi bi-person-check me-2"></i>
            {{ user()!.tenQuanLy || 'Chưa có' }}
          </p>
        </div>

        <div class="mb-3">
          <label class="form-label text-muted small">Ngày vào làm</label>
          <p>
            <i class="bi bi-calendar-check me-2"></i>
            @if (user()!.ngayVaoLam) {
              {{ user()!.ngayVaoLam | date: 'dd/MM/yyyy' }}
            } @else {
              Chưa cập nhật
            }
          </p>
        </div>

        <div class="mb-3">
          <label class="form-label text-muted small">Trạng thái</label>
          <p>
            <span [class]="'badge ' + getStatusClass(user()!.status)">
              {{ getStatusLabel(user()!.status) }}
            </span>
          </p>
        </div>
      </div>
    </div>

    <!-- ID Section -->
    <hr class="my-3">
    <div class="row">
      <div class="col-12">
        <label class="form-label text-muted small">User ID</label>
        <p class="font-monospace small text-muted">{{ user()!.id }}</p>
      </div>
    </div>
  }
</div>

<div class="modal-footer">
  <button 
    type="button" 
    class="btn btn-secondary" 
    (click)="close()"
  >
    <i class="bi bi-x-circle me-1"></i>Đóng
  </button>
</div>